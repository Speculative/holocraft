var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function u(t,e,n,r){if(t){const s=a(t,e,n,r);return t[0](s)}}function a(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function c(t,e,n,r,s,i,o){const u=function(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}(e,r,s,i);if(u){const s=a(e,n,r,o);t.p(s,u)}}function l(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function p(){return $(" ")}function g(){return $("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let v;function M(t){v=t}const x=[],k=[],_=[],D=[],S=Promise.resolve();let O=!1;function I(t){_.push(t)}let Y=!1;const B=new Set;function C(){if(!Y){Y=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];M(e),j(e.$$)}for(M(null),x.length=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];B.has(e)||(B.add(e),e())}_.length=0}while(x.length);for(;D.length;)D.pop()();O=!1,Y=!1,B.clear()}}function j(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const T=new Set;let A;function H(){A={r:0,c:[],p:A}}function N(){A.r||r(A.c),A=A.p}function E(t,e){t&&t.i&&(T.delete(t),t.i(e))}function L(t,e,n,r){if(t&&t.o){if(T.has(t))return;T.add(t),A.c.push((()=>{T.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function V(t){t&&t.c()}function W(t,n,i){const{fragment:o,on_mount:u,on_destroy:a,after_update:c}=t.$$;o&&o.m(n,i),I((()=>{const n=u.map(e).filter(s);a?a.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(I)}function z(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(x.push(t),O||(O=!0,S.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(e,s,i,o,u,a,c=[-1]){const l=v;M(e);const f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let h=!1;if(f.ctx=i?i(e,s.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&u(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),h&&U(e,t)),n})):[],f.update(),h=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);f.fragment&&f.fragment.l(t),t.forEach(d)}else f.fragment&&f.fragment.c();s.intro&&E(e.$$.fragment),W(e,s.target,s.anchor),C()}M(l)}class F{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const J=[];function Z(e,n=t){let r;const s=[];function o(t){if(i(e,t)&&(e=t,r)){const t=!J.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),J.push(n,e)}if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,u=t){const a=[i,u];return s.push(a),1===s.length&&(r=n(o)||t),i(e),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1),0===s.length&&(r(),r=null)}}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var G,q=(function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",s="day",i="week",o="month",u="quarter",a="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+h(r,2,"0")+":"+h(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(r,o),i=n-s<0,u=e.clone().add(r+(i?-1:1),o);return+(-(r+(n-s)/(i?s-u:u-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:o,y:a,w:i,d:s,D:c,h:r,m:n,s:e,ms:t,Q:u}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$="en",p={};p[$]=d;var g=function(t){return t instanceof v},y=function(t,e,n){var r;if(!t)return $;if("string"==typeof t)p[t]&&(r=t),e&&(p[t]=e,r=t);else{var s=t.name;p[s]=t,r=s}return!n&&r&&($=r),r||!n&&$},b=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},w=m;w.l=y,w.i=g,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var v=function(){function d(t){this.$L=y(t.locale,null,!0),this.parse(t)}var h=d.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return b(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<b(t)},h.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,u){var l=this,f=!!w.u(u)||u,d=w.p(t),h=function(t,e){var n=w.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return f?n:n.endOf(s)},m=function(t,e){return w.w(l.toDate()[t].apply(l.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},$=this.$W,p=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case a:return f?h(1,0):h(31,11);case o:return f?h(1,p):h(0,p+1);case i:var b=this.$locale().weekStart||0,v=($<b?$+7:$)-b;return h(f?g-v:g+(6-v),p);case s:case c:return m(y+"Hours",0);case r:return m(y+"Minutes",1);case n:return m(y+"Seconds",2);case e:return m(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,u){var l,f=w.p(i),d="set"+(this.$u?"UTC":""),h=(l={},l[s]=d+"Date",l[c]=d+"Date",l[o]=d+"Month",l[a]=d+"FullYear",l[r]=d+"Hours",l[n]=d+"Minutes",l[e]=d+"Seconds",l[t]=d+"Milliseconds",l)[f],m=f===s?this.$D+(u-this.$W):u;if(f===o||f===a){var $=this.clone().set(c,1);$.$d[h](m),$.init(),this.$d=$.set(c,Math.min(this.$D,$.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[w.p(t)]()},h.add=function(t,u){var c,l=this;t=Number(t);var f=w.p(u),d=function(e){var n=b(l);return w.w(n.date(n.date()+Math.round(e*t)),l)};if(f===o)return this.set(o,this.$M+t);if(f===a)return this.set(a,this.$y+t);if(f===s)return d(1);if(f===i)return d(7);var h=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[f]||1,m=this.$d.getTime()+t*h;return w.w(m,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),s=this.$locale(),i=this.$H,o=this.$m,u=this.$M,a=s.weekdays,c=s.months,l=function(t,r,s,i){return t&&(t[r]||t(e,n))||s[r].substr(0,i)},d=function(t){return w.s(i%12||12,t,"0")},h=s.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:w.s(u+1,2,"0"),MMM:l(s.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(s.weekdaysMin,this.$W,a,2),ddd:l(s.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(i),HH:w.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,o,!0),A:h(i,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(f,(function(t,e){return e||m[t]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,l){var f,d=w.p(c),h=b(t),m=6e4*(h.utcOffset()-this.utcOffset()),$=this-h,p=w.m(this,h);return p=(f={},f[a]=p/12,f[o]=p,f[u]=p/3,f[i]=($-m)/6048e5,f[s]=($-m)/864e5,f[r]=$/36e5,f[n]=$/6e4,f[e]=$/1e3,f)[d]||$,l?p:w.a(p)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return p[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},h.clone=function(){return w.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}(),M=v.prototype;return b.prototype=M,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",s],["$M",o],["$y",a],["$D",c]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,v,b),t.$i=!0),b},b.locale=y,b.isDayjs=g,b.unix=function(t){return b(1e3*t)},b.en=p[$],b.Ls=p,b.p={},b}()}(G={exports:{}},G.exports),G.exports);function*P(t,e){for(const n of t)yield e(n)}class Q{constructor(t,e){const[n,...r]=e;this._granularity=n,this._totalEntriesInTree=0;const s=new R([],n);for(const[e,n]of t){this._totalEntriesInTree+=1;let t=[];s.has(e)&&(t=s.get(e)),t.push([e,n]),s.put(e,t)}r.length>0?(this._isBottom=!1,this.children=new R(P(s.entries(),(([t,e])=>[t,new Q(e,r)])),n)):(this._isBottom=!0,this.children=new R(P(s.entries(),(([t,e])=>[t,e.map((([t,e])=>e))])),n))}get(t){return this.children.get(t)}unsafeGet(t){return this.get(t)}keys(){return Array.from(this.children.keys())}values(){return Array.from(this.children.values())}entries(){return Array.from(this.children.entries())}isBottom(){return this._isBottom}isNotBottom(){return!this._isBottom}granularity(){return this._granularity}totalEntries(){return this._totalEntriesInTree}}class R{constructor(t,e){this.granularity=e,this.innerMap={},this.orderedBuckets=[];for(const[e,n]of t)this.innerMap[this.dateKey(e)]=n,this.orderedBuckets.push(e.startOf(this.granularity))}put(t,e){this.dateKey(t)in this.innerMap||this.orderedBuckets.push(t),this.innerMap[this.dateKey(t)]=e}has(t){return this.dateKey(t)in this.innerMap}get(t){return this.innerMap[this.dateKey(t)]}*keys(){for(const t of this.orderedBuckets)yield t}*values(){for(const t of this.keys())yield this.get(t)}*entries(){for(const t of this.keys())yield[t,this.get(t)]}dateKey(t){return t.startOf(this.granularity).unix()}}const X={subscribe:Z({members:{},streams:{byId:{},inOrder:[],byMember:{},byDate:new Q([],["year","month","date"])},clips:{}},(function(t){fetch("holocraft.json").then((t=>t.json())).then((e=>{const n=performance.now(),r=e.craftStreams.map((({videoId:t,publishedAt:e,member:n})=>({member:n,videoId:t,publishedAt:q(e),clips:[]}))),s=Object.fromEntries(r.map((t=>[t.videoId,t]))),i=Object.fromEntries(e.craftClips.map((({videoId:t,sourceStreams:e})=>[t,{videoId:t,sourceStreams:e.map((t=>s[t]))}])));for(const t of Object.values(i))for(const e of t.sourceStreams)e.clips.push(t);const o=r.reduce(((t,e)=>({...t,...e.member in t?{[e.member]:[...t[e.member],e]}:{[e.member]:[e]}})),{}),u=new Q(r.map((t=>[t.publishedAt,t])),["year","month","date"]),a=performance.now();console.log(`Computed stats in ${a-n} ms`);for(const t of Object.values(e.members))(new Image).src=t.channelImageUrl;const c={members:e.members,streams:{byId:s,inOrder:r,byMember:o,byDate:u},clips:i};window.holocraftData=c,t(c)}))})).subscribe};class tt extends F{constructor(t){super(),K(this,t,null,null,i,{})}}const et=t=>({}),nt=t=>({}),rt=t=>({}),st=t=>({});function it(t){let e,n,r,s,i;const o=t[1].mark,a=u(o,t,t[0],st),h=t[1].attachment,$=u(h,t,t[0],nt);return{c(){e=m("section"),n=m("div"),a&&a.c(),r=p(),s=m("div"),$&&$.c(),b(n,"class","flex-column relative z-10 flex items-center justify-center w-full h-full"),b(s,"class","left-20 absolute h-full"),b(e,"class","relative flex flex-row w-full h-24")},m(t,o){f(t,e,o),l(e,n),a&&a.m(n,null),l(e,r),l(e,s),$&&$.m(s,null),i=!0},p(t,[e]){a&&a.p&&1&e&&c(a,o,t,t[0],e,rt,st),$&&$.p&&1&e&&c($,h,t,t[0],e,et,nt)},i(t){i||(E(a,t),E($,t),i=!0)},o(t){L(a,t),L($,t),i=!1},d(t){t&&d(e),a&&a.d(t),$&&$.d(t)}}}function ot(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,r]}class ut extends F{constructor(t){super(),K(this,t,ot,it,i,{})}}function at(t){let e,n,r;return{c(){e=m("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>',b(e,"slot","mark"),b(e,"class","relative z-10 flex items-center justify-center w-12 h-12 bg-white rounded-full cursor-pointer")},m(i,o){f(i,e,o),n||(r=y(e,"click",(function(){s(t[2])&&t[2].apply(this,arguments)})),n=!0)},p(e,n){t=e},d(t){t&&d(e),n=!1,r()}}}function ct(t){let e,n,r=dt(t[0],t[1])+"";return{c(){e=m("div"),n=$(r),b(e,"slot","attachment"),b(e,"class","flex flex-row items-center justify-start w-64 h-full text-white")},m(t,r){f(t,e,r),l(e,n)},p(t,e){3&e&&r!==(r=dt(t[0],t[1])+"")&&w(n,r)},d(t){t&&d(e)}}}function lt(e){let n;return{c(){n=p()},m(t,e){f(t,n,e)},p:t,d(t){t&&d(n)}}}function ft(t){let e,n;return e=new ut({props:{$$slots:{default:[lt],attachment:[ct],mark:[at]},$$scope:{ctx:t}}}),{c(){V(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,[n]){const r={};15&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function dt(t,e){switch(e){case"year":return t.format("YYYY");case"month":return t.format("MMMM YYYY");case"date":return t.format("MMMM D");default:return t.format("MMMM D, YYYY")}}function ht(t,e,n){let{date:r}=e,{granularity:s}=e,{onClick:i=(()=>{})}=e;return t.$$set=t=>{"date"in t&&n(0,r=t.date),"granularity"in t&&n(1,s=t.granularity),"onClick"in t&&n(2,i=t.onClick)},[r,s,i]}class mt extends F{constructor(t){super(),K(this,t,ht,ft,i,{date:0,granularity:1,onClick:2})}}function $t(t){let e,n,s,i,o,u;return{c(){e=m("button"),n=m("img"),b(n,"class","w-full h-full"),n.src!==(s=t[3].channelImageUrl)&&b(n,"src",s),b(n,"alt",i=t[3].name),b(e,"slot","mark"),b(e,"class","hover:border-white hover:border-4 hover:w-14 hover:h-14 box-content w-12 h-12 overflow-hidden transition-all duration-100 ease-in-out bg-white border-2 rounded-full")},m(r,s){f(r,e,s),l(e,n),o||(u=[y(e,"mouseover",t[4]),y(e,"mouseout",t[5]),y(e,"click",t[6])],o=!0)},p(t,e){8&e&&n.src!==(s=t[3].channelImageUrl)&&b(n,"src",s),8&e&&i!==(i=t[3].name)&&b(n,"alt",i)},d(t){t&&d(e),o=!1,r(u)}}}function pt(t){let e,n,r,s,i,o,u=t[3].name+"";return{c(){e=m("aside"),n=m("div"),r=p(),s=m("div"),i=$(u),o=$(" did a thing"),b(n,"class","absolute z-0 w-2 h-2 -ml-1 transform rotate-45 bg-white"),b(s,"class","above-rail p-2 bg-white rounded-sm svelte-1mtve3"),b(e,"class","vertically-aligned-row w-64 svelte-1mtve3")},m(t,u){f(t,e,u),l(e,n),l(e,r),l(e,s),l(s,i),l(s,o)},p(t,e){8&e&&u!==(u=t[3].name+"")&&w(i,u)},d(t){t&&d(e)}}}function gt(t){let e,n,r,s,i,o,u,a,c,h;return{c(){e=m("figure"),n=m("div"),r=p(),s=m("div"),i=$("Sorry there's no fancy embed and related clips yet."),o=m("br"),u=p(),a=m("a"),c=$("Here's a link to the stream"),b(n,"class","absolute z-0 w-2 h-2 -ml-1 transform rotate-45 bg-white"),b(a,"class","underline"),b(a,"href",h=`https://www.youtube.com/watch?v=${t[0]}`),b(s,"class","above-rail p-2 bg-white rounded-sm svelte-1mtve3"),b(e,"class","vertically-aligned-row w-64 svelte-1mtve3")},m(t,d){f(t,e,d),l(e,n),l(e,r),l(e,s),l(s,i),l(s,o),l(s,u),l(s,a),l(a,c)},p(t,e){1&e&&h!==(h=`https://www.youtube.com/watch?v=${t[0]}`)&&b(a,"href",h)},d(t){t&&d(e)}}}function yt(t){let e,n,r=t[1]&&pt(t),s=t[2]&&gt(t);return{c(){e=m("div"),r&&r.c(),n=p(),s&&s.c(),b(e,"slot","attachment"),b(e,"class","flex flex-row items-center h-full")},m(t,i){f(t,e,i),r&&r.m(e,null),l(e,n),s&&s.m(e,null)},p(t,i){t[1]?r?r.p(t,i):(r=pt(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[2]?s?s.p(t,i):(s=gt(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&d(e),r&&r.d(),s&&s.d()}}}function bt(e){let n;return{c(){n=p()},m(t,e){f(t,n,e)},p:t,d(t){t&&d(n)}}}function wt(t){let e,n;return e=new ut({props:{$$slots:{default:[bt],attachment:[yt],mark:[$t]},$$scope:{ctx:t}}}),{c(){V(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,[n]){const r={};527&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function vt(t,e,n){let r,s;o(t,X,(t=>n(8,s=t)));let{member:i}=e,{streamVideoId:u}=e,a=!1,c=!1;return t.$$set=t=>{"member"in t&&n(7,i=t.member),"streamVideoId"in t&&n(0,u=t.streamVideoId)},t.$$.update=()=>{384&t.$$.dirty&&n(3,r=s.members[i])},[u,a,c,r,function(){c||n(1,a=!0)},function(){n(1,a=!1)},function(){n(1,a=!1),n(2,c=!c)},i,s]}class Mt extends F{constructor(t){super(),K(this,t,vt,wt,i,{member:7,streamVideoId:0})}}function xt(t,e,n){const r=t.slice();return r[5]=e[n],r}function kt(t){let e,n,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=_t(xt(t,r,e));const i=t=>L(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=g()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);f(t,e,r),n=!0},p(t,n){if(1&n){let o;for(r=t[0],o=0;o<r.length;o+=1){const i=xt(t,r,o);s[o]?(s[o].p(i,n),E(s[o],1)):(s[o]=_t(i),s[o].c(),E(s[o],1),s[o].m(e.parentNode,e))}for(H(),o=r.length;o<s.length;o+=1)i(o);N()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)E(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)L(s[t]);n=!1},d(t){h(s,t),t&&d(e)}}}function _t(t){let e,n;return e=new Mt({props:{member:t[5].member,streamVideoId:t[5].videoId}}),{c(){V(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.member=t[5].member),1&n&&(r.streamVideoId=t[5].videoId),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Dt(t){let e,n,r,s;n=new mt({props:{date:t[1],granularity:t[2],onClick:t[4]}});let i=t[3]&&kt(t);return{c(){e=m("section"),V(n.$$.fragment),r=p(),i&&i.c(),b(e,"class","relative flex flex-col items-center w-16")},m(t,o){f(t,e,o),W(n,e,null),l(e,r),i&&i.m(e,null),s=!0},p(t,[r]){const s={};2&r&&(s.date=t[1]),4&r&&(s.granularity=t[2]),n.$set(s),t[3]?i?(i.p(t,r),8&r&&E(i,1)):(i=kt(t),i.c(),E(i,1),i.m(e,null)):i&&(H(),L(i,1,1,(()=>{i=null})),N())},i(t){s||(E(n.$$.fragment,t),E(i),s=!0)},o(t){L(n.$$.fragment,t),L(i),s=!1},d(t){t&&d(e),z(n),i&&i.d()}}}function St(t,e,n){let{streams:r}=e,{date:s}=e,{granularity:i}=e,o=!1;return t.$$set=t=>{"streams"in t&&n(0,r=t.streams),"date"in t&&n(1,s=t.date),"granularity"in t&&n(2,i=t.granularity)},[r,s,i,o,function(){n(3,o=!o)}]}class Ot extends F{constructor(t){super(),K(this,t,St,Dt,i,{streams:0,date:1,granularity:2})}}function It(t,e,n){const r=t.slice();return r[6]=e[n],r}function Yt(t,e,n){const r=t.slice();return r[6]=e[n],r[10]=n,r}function Bt(t){let e,n,r=t[3].keys(),s=[];for(let e=0;e<r.length;e+=1)s[e]=jt(Yt(t,r,e));const i=t=>L(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=g()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);f(t,e,r),n=!0},p(t,n){if(26&n){let o;for(r=t[3].keys(),o=0;o<r.length;o+=1){const i=Yt(t,r,o);s[o]?(s[o].p(i,n),E(s[o],1)):(s[o]=jt(i),s[o].c(),E(s[o],1),s[o].m(e.parentNode,e))}for(H(),o=r.length;o<s.length;o+=1)i(o);N()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)E(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)L(s[t]);n=!1},d(t){h(s,t),t&&d(e)}}}function Ct(t){let e,n,r,s;return n=new Et({props:{tree:t[3].get(t[6])}}),{c(){e=m("div"),V(n.$$.fragment),r=p(),b(e,"class","left-16 relative")},m(t,i){f(t,e,i),W(n,e,null),l(e,r),s=!0},p(t,e){const r={};8&e&&(r.tree=t[3].get(t[6])),n.$set(r)},i(t){s||(E(n.$$.fragment,t),s=!0)},o(t){L(n.$$.fragment,t),s=!1},d(t){t&&d(e),z(n)}}}function jt(t){let e,n,r,s;e=new mt({props:{date:t[6],granularity:t[3].granularity(),onClick:function(){return t[5](t[10])}}});let i=t[1][t[10]]&&Ct(t);return{c(){V(e.$$.fragment),n=p(),i&&i.c(),r=g()},m(t,o){W(e,t,o),f(t,n,o),i&&i.m(t,o),f(t,r,o),s=!0},p(n,s){t=n;const o={};8&s&&(o.date=t[6]),8&s&&(o.granularity=t[3].granularity()),e.$set(o),t[1][t[10]]?i?(i.p(t,s),2&s&&E(i,1)):(i=Ct(t),i.c(),E(i,1),i.m(r.parentNode,r)):i&&(H(),L(i,1,1,(()=>{i=null})),N())},i(t){s||(E(e.$$.fragment,t),E(i),s=!0)},o(t){L(e.$$.fragment,t),L(i),s=!1},d(t){z(e,t),t&&d(n),i&&i.d(t),t&&d(r)}}}function Tt(t){let e,n,r=t[2].keys(),s=[];for(let e=0;e<r.length;e+=1)s[e]=At(It(t,r,e));const i=t=>L(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=g()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);f(t,e,r),n=!0},p(t,n){if(5&n){let o;for(r=t[2].keys(),o=0;o<r.length;o+=1){const i=It(t,r,o);s[o]?(s[o].p(i,n),E(s[o],1)):(s[o]=At(i),s[o].c(),E(s[o],1),s[o].m(e.parentNode,e))}for(H(),o=r.length;o<s.length;o+=1)i(o);N()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)E(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)L(s[t]);n=!1},d(t){h(s,t),t&&d(e)}}}function At(t){let e,n;return e=new Ot({props:{streams:t[0].unsafeGet(t[6]),date:t[6],granularity:t[2].granularity()}}),{c(){V(e.$$.fragment)},m(t,r){W(e,t,r),n=!0},p(t,n){const r={};5&n&&(r.streams=t[0].unsafeGet(t[6])),4&n&&(r.date=t[6]),4&n&&(r.granularity=t[2].granularity()),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Ht(t){let e,n,r,s,i,o=t[3].isNotBottom(),u=t[2].isBottom(),a=o&&Bt(t),c=u&&Tt(t);return{c(){e=m("section"),a&&a.c(),n=p(),c&&c.c(),r=p(),s=m("div"),b(s,"class","absolute z-0 w-2 h-full bg-white"),b(e,"class","relative flex flex-col items-center w-16")},m(t,o){f(t,e,o),a&&a.m(e,null),l(e,n),c&&c.m(e,null),l(e,r),l(e,s),i=!0},p(t,[s]){8&s&&(o=t[3].isNotBottom()),o?a?(a.p(t,s),8&s&&E(a,1)):(a=Bt(t),a.c(),E(a,1),a.m(e,n)):a&&(H(),L(a,1,1,(()=>{a=null})),N()),4&s&&(u=t[2].isBottom()),u?c?(c.p(t,s),4&s&&E(c,1)):(c=Tt(t),c.c(),E(c,1),c.m(e,r)):c&&(H(),L(c,1,1,(()=>{c=null})),N())},i(t){i||(E(a),E(c),i=!0)},o(t){L(a),L(c),i=!1},d(t){t&&d(e),a&&a.d(),c&&c.d()}}}function Nt(t,e,n){let r,s,{tree:i}=e,o=[];function u(t){null!==o&&n(1,o=[...o.slice(0,t),!o[t],...o.slice(t+1)])}return t.$$set=t=>{"tree"in t&&n(0,i=t.tree)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=i),1&t.$$.dirty&&n(3,s=i),3&t.$$.dirty&&0===o.length&&n(1,o=new Array(i.keys().length).fill(!1))},[i,o,r,s,u,t=>u(t)]}class Et extends F{constructor(t){super(),K(this,t,Nt,Ht,i,{tree:0})}}function Lt(t){let e,n,r;return n=new Et({props:{tree:t[0].streams.byDate}}),{c(){e=m("section"),V(n.$$.fragment),b(e,"class","relative flex flex-col items-center w-16")},m(t,s){f(t,e,s),W(n,e,null),r=!0},p(t,[e]){const r={};1&e&&(r.tree=t[0].streams.byDate),n.$set(r)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){L(n.$$.fragment,t),r=!1},d(t){t&&d(e),z(n)}}}function Vt(t,e,n){let r;return o(t,X,(t=>n(0,r=t))),[r]}class Wt extends F{constructor(t){super(),K(this,t,Vt,Lt,i,{})}}function zt(t){let e,n,r,s,i,o,u,a,c,h,g,y,v,M,x;return e=new tt({}),o=new Wt({}),{c(){V(e.$$.fragment),n=p(),r=m("main"),s=m("h1"),s.textContent="Holocraft",i=p(),V(o.$$.fragment),u=p(),a=m("p"),c=$("Streams: "),h=$(t[0]),g=p(),y=m("p"),v=$("Clips: "),M=$(t[1]),b(s,"class","text-white"),b(a,"class","italic font-bold text-white"),b(y,"class","font-bold text-white"),b(r,"class","w-full h-full overflow-x-hidden overflow-y-auto bg-gray-800")},m(t,d){W(e,t,d),f(t,n,d),f(t,r,d),l(r,s),l(r,i),W(o,r,null),l(r,u),l(r,a),l(a,c),l(a,h),l(r,g),l(r,y),l(y,v),l(y,M),x=!0},p(t,[e]){(!x||1&e)&&w(h,t[0]),(!x||2&e)&&w(M,t[1])},i(t){x||(E(e.$$.fragment,t),E(o.$$.fragment,t),x=!0)},o(t){L(e.$$.fragment,t),L(o.$$.fragment,t),x=!1},d(t){z(e,t),t&&d(n),t&&d(r),z(o)}}}function Ut(t,e,n){let r,s,i;return o(t,X,(t=>n(2,i=t))),t.$$.update=()=>{4&t.$$.dirty&&n(0,r=Object.keys(i.streams.inOrder).length),4&t.$$.dirty&&n(1,s=Object.keys(i.clips).length)},[r,s,i]}return new class extends F{constructor(t){super(),K(this,t,Ut,zt,i,{})}}({target:document.body})}();
